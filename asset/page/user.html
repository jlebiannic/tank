<!DOCTYPE html>
<html>
<head>
	<title>Tank Command</title>
	<link rel="stylesheet" type="text/css" href="../lib/bootstrap/css/bootstrap.css">

    <style type="text/css"> 
		body {
		  padding-top: 10px;
		}
		[class*="col-"] {
		  /*background-color: lightgreen;*/
		  /*border: 2px solid black;
		  border-radius: 6px;*/
		 /* line-height: 40px;*/
		  /*text-align: center;*/
		}
    </style>	
</head>
<body>
<div class="container">
	<nav class="row" /*style="margin-bottom: 20px"*/>
		<div class="col-xs-2 ">
			<button id='forward' class="btn btn-primary tank">UP</button>
		</div>
	</nav>
	<nav class="row" /*style="margin-bottom: 20px"*/>
		<div class="col-xs-7 ">
			
		</div>
		<div class="col-xs-2">
			<button id='left' class="btn btn-primary tank">LEFT</button>
		</div>
		<div class="col-xs-2">
			<button id='right' class="btn btn-primary tank">RIGHT</button>
		</div>
		<div class="col-xs-1 ">
			
		</div>
	</nav>
	<nav class="row" /*style="margin-bottom: 20px"*/>
		<div class="col-xs-2">
			<button id='backward' class="btn btn-primary tank">DOWN</button>
		</div>
	</nav>



<!-- <button id='backward' class="btn btn-primary tank">DOWN</button>
<button id='right' class="btn btn-primary tank">RIGHT</button>
<button id='left' class="btn btn-primary tank">LEFT</button> -->
</div>


<script src="/asset/lib/socket.io/socket.io.js"></script>
<script src="/asset/lib/jquery-3.1.1.js"></script>
<script type="text/javascript">
	$(function(){
		var stopclick;
		// Connexion Ã  socket.io
        var socket = io.connect('http://192.168.0.11:8080');
        $('.tank').mousedown(function(){
        	stopclick = false;
        	socket.emit('tank.'+ this.id);
        	var button = $(this);
        	goeson(button);
        });

        $('.tank').mouseup(function(){
        	stopclick = true;
        });

        function goeson(button){
        	setTimeout(function(){
        		if(!stopclick){
        			//console.log('click !')
        			socket.emit('tank.'+ button[0].id);
        			goeson(button);
        		}

        	}, 30)
        }

  	});
</script>
</body>
</html>